Version 4.1
SHEET 1 2248 680
WIRE -256 -240 -352 -240
WIRE -80 -240 -176 -240
WIRE 96 -240 -80 -240
WIRE 192 -240 96 -240
WIRE 336 -240 272 -240
WIRE 448 -240 416 -240
WIRE 608 -240 528 -240
WIRE 720 -240 608 -240
WIRE 1008 -240 976 -240
WIRE 1184 -240 1088 -240
WIRE 1360 -240 1184 -240
WIRE 1440 -240 1360 -240
WIRE 1600 -240 1520 -240
WIRE 1728 -240 1600 -240
WIRE 96 -208 96 -240
WIRE 1360 -208 1360 -240
WIRE -80 -176 -80 -240
WIRE 1184 -176 1184 -240
WIRE -352 -160 -352 -240
WIRE 608 -160 608 -240
WIRE 720 -160 720 -240
WIRE 976 -160 976 -240
WIRE 1728 -160 1728 -240
WIRE 1600 -144 1600 -240
WIRE -128 -96 -144 -96
WIRE 1136 -96 1120 -96
WIRE 96 -80 96 -128
WIRE 1360 -80 1360 -128
WIRE -352 16 -352 -80
WIRE -80 16 -80 -80
WIRE -80 16 -352 16
WIRE 96 16 96 -16
WIRE 96 16 -80 16
WIRE 256 16 96 16
WIRE 608 16 608 -80
WIRE 608 16 320 16
WIRE 720 16 720 -80
WIRE 720 16 608 16
WIRE 976 16 976 -80
WIRE 1040 16 976 16
WIRE 1184 16 1184 -80
WIRE 1184 16 1104 16
WIRE 1360 16 1360 -16
WIRE 1360 16 1184 16
WIRE 1600 16 1600 -80
WIRE 1600 16 1360 16
WIRE 1728 16 1728 -80
WIRE 1728 16 1600 16
WIRE -352 48 -352 16
WIRE 1728 48 1728 16
WIRE -272 144 -336 144
WIRE -176 144 -192 144
WIRE 0 144 -64 144
WIRE 96 144 80 144
WIRE -336 176 -336 144
WIRE -64 176 -64 144
WIRE -336 272 -336 256
WIRE -64 272 -64 256
FLAG -352 48 0
FLAG -336 272 0
FLAG -176 144 vg
FLAG -144 -96 vg
FLAG -64 272 0
FLAG 96 144 _vg
FLAG 1120 -96 _vg
FLAG 1728 48 0
SYMBOL voltage -352 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 25
SYMBOL cap 320 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 9.4e-6
SYMATTR SpiceLine Rser=2.5e-3
SYMBOL res 1712 -176 R0
SYMATTR InstName R1
SYMATTR Value 5.24
SYMBOL nmos -128 -176 R0
SYMATTR InstName M1
SYMATTR Value IRFP90N20D
SYMBOL ind -272 -224 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100e-6
SYMATTR SpiceLine Rser=42.43e-3
SYMBOL res -176 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 3.7
SYMBOL ind2 704 -64 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 42e-6
SYMATTR Type ind
SYMBOL ind2 992 -176 M0
WINDOW 3 41 71 Left 2
SYMATTR Value 116.67e-6
SYMATTR InstName L4
SYMATTR Type ind
SYMBOL res 96 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 3.7
SYMBOL nmos 1136 -176 R0
SYMATTR InstName M2
SYMATTR Value IRFP90N20D
SYMBOL ind 1424 -224 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 150e-6
SYMATTR SpiceLine Rser=10.26e-3
SYMBOL cap 1584 -144 R0
SYMATTR InstName C5
SYMATTR Value 330e-6
SYMATTR SpiceLine Rser=0.131
SYMBOL cap 1104 0 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 9.4e-6
SYMATTR SpiceLine Rser=2.5e-3
SYMBOL ind 432 -224 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 0.2e-6
SYMATTR SpiceLine Rser=6.38e-3
SYMBOL res 432 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1.37e-3
SYMBOL res 1104 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 4.4e-3
SYMBOL res 80 -224 R0
SYMATTR InstName R6
SYMATTR Value 20
SYMBOL cap 80 -80 R0
SYMATTR InstName C3
SYMATTR Value 0.94e-9
SYMBOL res 1344 -224 R0
SYMATTR InstName R7
SYMATTR Value 20
SYMBOL cap 1344 -80 R0
SYMATTR InstName C4
SYMATTR Value 0.94e-9
SYMBOL voltage -64 160 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 13 {t_s2_delay} {t_rise} {t_fall} {t_s2_on} {t_pwm})
SYMATTR InstName V2
SYMBOL voltage -336 160 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 13 0 {t_rise} {t_fall} {t_s1_on} {t_pwm})
SYMATTR InstName V3
SYMBOL res 288 -256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 0.15
SYMBOL ind 592 -176 R0
SYMATTR InstName L6
SYMATTR Value 70e-6
TEXT -352 312 Left 2 !.tran 0 25e-3 0 startup
TEXT 808 -160 Left 2 !K L3 L4 1
TEXT -352 344 Left 2 !.param t_pwm=10e-6 dead_time=70e-9 duty=0.4 t_rise=10e-9 t_fall=10e-9 t_s1_on=t_pwm*duty t_s2_on=t_pwm*(1-duty)-2*dead_time-2*t_rise t_s2_delay=t_s1_on+dead_time+t_rise
